@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables for Theme Colors */
:root {
  /* Light theme colors */
  --color-bg-primary: 255 255 255;
  --color-bg-secondary: 249 250 251;
  --color-bg-tertiary: 243 244 246;
  --color-text-primary: 17 24 39;
  --color-text-secondary: 75 85 99;
  --color-text-tertiary: 156 163 175;
  --color-border-primary: 229 231 235;
  --color-border-secondary: 209 213 219;
  --color-accent: 59 130 246;
  --color-accent-hover: 37 99 235;
  --color-success: 34 197 94;
  --color-warning: 245 158 11;
  --color-error: 239 68 68;
}

/* Dark theme colors - applied when body has 'dark' class */
body.dark {
  --color-bg-primary: 17 24 39;
  --color-bg-secondary: 31 41 55;
  --color-bg-tertiary: 55 65 81;
  --color-text-primary: 243 244 246;
  --color-text-secondary: 209 213 219;
  --color-text-tertiary: 156 163 175;
  --color-border-primary: 75 85 99;
  --color-border-secondary: 55 65 81;
  --color-accent: 96 165 250;
  --color-accent-hover: 59 130 246;
  --color-success: 74 222 128;
  --color-warning: 251 191 36;
  --color-error: 248 113 113;
}

/* High specificity overrides for Tailwind classes */
@layer utilities {
  /* Light mode explicit overrides to ensure normal colors */
  body.light .text-gray-900,
  body:not(.dark) .text-gray-900 {
    color: rgb(17 24 39) !important;
  }

  body.light .text-gray-800,
  body:not(.dark) .text-gray-800 {
    color: rgb(31 41 55) !important;
  }

  body.light .text-gray-700,
  body:not(.dark) .text-gray-700 {
    color: rgb(55 65 81) !important;
  }

  body.light .text-gray-600,
  body:not(.dark) .text-gray-600 {
    color: rgb(75 85 99) !important;
  }

  body.light .text-gray-500,
  body:not(.dark) .text-gray-500 {
    color: rgb(107 114 128) !important;
  }

  body.light .text-gray-400,
  body:not(.dark) .text-gray-400 {
    color: rgb(156 163 175) !important;
  }

  body.light .text-black,
  body:not(.dark) .text-black {
    color: rgb(0 0 0) !important;
  }

  body.light .bg-white,
  body:not(.dark) .bg-white {
    background-color: rgb(255 255 255) !important;
  }

  body.light .bg-gray-50,
  body:not(.dark) .bg-gray-50 {
    background-color: rgb(249 250 251) !important;
  }

  body.light .bg-gray-100,
  body:not(.dark) .bg-gray-100 {
    background-color: rgb(243 244 246) !important;
  }

  body.light .bg-gray-200,
  body:not(.dark) .bg-gray-200 {
    background-color: rgb(229 231 235) !important;
  }

  body.light .border-gray-200,
  body:not(.dark) .border-gray-200 {
    border-color: rgb(229 231 235) !important;
  }

  body.light .border-gray-300,
  body:not(.dark) .border-gray-300 {
    border-color: rgb(209 213 219) !important;
  }

  body.light .border-gray-600,
  body:not(.dark) .border-gray-600 {
    border-color: rgb(75 85 99) !important;
  }

  body.light .border-gray-700,
  body:not(.dark) .border-gray-700 {
    border-color: rgb(55 65 81) !important;
  }

  /* Dark mode overrides with high specificity */
  body.dark .text-gray-900,
  body.dark .text-gray-800,
  body.dark .text-gray-700 {
    color: rgb(243 244 246) !important;
  }

  body.dark .text-gray-600,
  body.dark .text-gray-500 {
    color: rgb(209 213 219) !important;
  }

  body.dark .text-gray-400,
  body.dark .text-gray-300 {
    color: rgb(156 163 175) !important;
  }

  body.dark .text-black {
    color: rgb(243 244 246) !important;
  }

  /* Background overrides */
  body.dark .bg-white {
    background-color: rgb(17 24 39) !important;
  }

  body.dark .bg-gray-50 {
    background-color: rgb(31 41 55) !important;
  }

  body.dark .bg-gray-100 {
    background-color: rgb(55 65 81) !important;
  }

  body.dark .bg-gray-200 {
    background-color: rgb(75 85 99) !important;
  }

  body.dark .bg-gray-800 {
    background-color: rgb(17 24 39) !important;
  }

  body.dark .bg-gray-900 {
    background-color: rgb(0 0 0) !important;
  }

  /* Border overrides */
  body.dark .border-gray-200 {
    border-color: rgb(75 85 99) !important;
  }

  body.dark .border-gray-300 {
    border-color: rgb(55 65 81) !important;
  }

  body.dark .border-gray-600 {
    border-color: rgb(75 85 99) !important;
  }

  body.dark .border-gray-700 {
    border-color: rgb(55 65 81) !important;
  }

  /* Light mode hover states */
  body.light .hover\:bg-gray-50:hover,
  body:not(.dark) .hover\:bg-gray-50:hover {
    background-color: rgb(249 250 251) !important;
  }

  body.light .hover\:bg-gray-100:hover,
  body:not(.dark) .hover\:bg-gray-100:hover {
    background-color: rgb(243 244 246) !important;
  }

  body.light .hover\:bg-gray-200:hover,
  body:not(.dark) .hover\:bg-gray-200:hover {
    background-color: rgb(229 231 235) !important;
  }

  body.light .hover\:text-gray-700:hover,
  body:not(.dark) .hover\:text-gray-700:hover {
    color: rgb(55 65 81) !important;
  }

  body.light .hover\:text-gray-900:hover,
  body:not(.dark) .hover\:text-gray-900:hover {
    color: rgb(17 24 39) !important;
  }

  body.light .hover\:border-gray-300:hover,
  body:not(.dark) .hover\:border-gray-300:hover {
    border-color: rgb(209 213 219) !important;
  }

  body.light .hover\:border-gray-600:hover,
  body:not(.dark) .hover\:border-gray-600:hover {
    border-color: rgb(75 85 99) !important;
  }

  /* Dark mode hover states */
  body.dark .hover\:bg-gray-50:hover {
    background-color: rgb(55 65 81) !important;
  }

  body.dark .hover\:bg-gray-100:hover {
    background-color: rgb(75 85 99) !important;
  }

  body.dark .hover\:bg-gray-200:hover {
    background-color: rgb(107 114 128) !important;
  }

  body.dark .hover\:text-gray-700:hover {
    color: rgb(243 244 246) !important;
  }

  body.dark .hover\:text-gray-900:hover {
    color: rgb(255 255 255) !important;
  }

  body.dark .hover\:border-gray-300:hover {
    border-color: rgb(75 85 99) !important;
  }

  body.dark .hover\:border-gray-600:hover {
    border-color: rgb(107 114 128) !important;
  }

  /* Focus states */
  body.dark .focus\:ring-blue-500:focus {
    --tw-ring-color: rgb(96 165 250) !important;
  }

  body.dark .focus\:border-blue-500:focus {
    border-color: rgb(96 165 250) !important;
  }

  /* Light mode status badges and alerts */
  body.light .bg-green-100,
  body:not(.dark) .bg-green-100 {
    background-color: rgb(220 252 231) !important;
  }

  body.light .text-green-700,
  body.light .text-green-800,
  body:not(.dark) .text-green-700,
  body:not(.dark) .text-green-800 {
    color: rgb(21 128 61) !important; /* より濃い緑 */
  }

  body.light .border-green-400,
  body:not(.dark) .border-green-400 {
    border-color: rgb(74 222 128) !important;
  }

  body.light .bg-yellow-100,
  body:not(.dark) .bg-yellow-100 {
    background-color: rgb(254 249 195) !important;
  }

  body.light .text-yellow-700,
  body.light .text-yellow-800,
  body:not(.dark) .text-yellow-700,
  body:not(.dark) .text-yellow-800 {
    color: rgb(161 98 7) !important; /* より濃い黄色 */
  }

  body.light .bg-red-100,
  body:not(.dark) .bg-red-100 {
    background-color: rgb(254 226 226) !important;
  }

  body.light .text-red-600,
  body.light .text-red-700,
  body.light .text-red-800,
  body:not(.dark) .text-red-600,
  body:not(.dark) .text-red-700,
  body:not(.dark) .text-red-800 {
    color: rgb(185 28 28) !important; /* より濃い赤 */
  }

  body.light .bg-blue-100,
  body:not(.dark) .bg-blue-100 {
    background-color: rgb(219 234 254) !important;
  }

  body.light .text-blue-700,
  body.light .text-blue-800,
  body:not(.dark) .text-blue-700,
  body:not(.dark) .text-blue-800 {
    color: rgb(29 78 216) !important; /* より濃い青 */
  }

  body.light .bg-blue-600,
  body:not(.dark) .bg-blue-600 {
    background-color: rgb(37 99 235) !important;
  }

  body.light .hover\:bg-blue-700:hover,
  body:not(.dark) .hover\:bg-blue-700:hover {
    background-color: rgb(29 78 216) !important;
  }

  /* Dark mode status badges and alerts */
  body.dark .bg-green-100 {
    background-color: rgb(34 197 94 / 0.2) !important;
  }

  body.dark .text-green-700,
  body.dark .text-green-800 {
    color: rgb(74 222 128) !important;
  }

  body.dark .text-green-300 {
    color: rgb(134 239 172) !important;
  }

  body.dark .border-green-700 {
    border-color: rgb(21 128 61) !important;
  }

  body.dark .bg-green-900 {
    background-color: rgb(20 83 45) !important;
  }

  body.dark .bg-yellow-100 {
    background-color: rgb(245 158 11 / 0.2) !important;
  }

  body.dark .text-yellow-700,
  body.dark .text-yellow-800 {
    color: rgb(251 191 36) !important;
  }

  body.dark .bg-red-100 {
    background-color: rgb(239 68 68 / 0.2) !important;
  }

  body.dark .text-red-600,
  body.dark .text-red-700,
  body.dark .text-red-800 {
    color: rgb(248 113 113) !important;
  }

  body.dark .bg-blue-100 {
    background-color: rgb(59 130 246 / 0.2) !important;
  }

  body.dark .text-blue-700,
  body.dark .text-blue-800 {
    color: rgb(96 165 250) !important;
  }

  body.dark .bg-blue-600 {
    background-color: rgb(96 165 250) !important;
  }

  body.dark .hover\:bg-blue-700:hover {
    background-color: rgb(59 130 246) !important;
  }

  /* Shadow overrides */
  body.dark .shadow-md {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
  }

  body.dark .shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2) !important;
  }

  body.dark .shadow-sm {
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3) !important;
  }

  /* Ring colors */
  body.dark .ring-black\/5 {
    --tw-ring-color: rgb(255 255 255 / 0.1) !important;
  }

  /* Specific component overrides */
  body.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
    border-color: rgb(75 85 99) !important;
  }

  /* Navigation specific */
  body.dark nav {
    background-color: rgb(17 24 39) !important;
    border-color: rgb(75 85 99) !important;
  }

  /* Modal and dropdown overrides */
  body.dark .ring-1.ring-black\/5 {
    --tw-ring-color: rgb(255 255 255 / 0.1) !important;
  }

/* Light mode input fields */
body.light input[type="text"],
body.light input[type="email"],
body.light input[type="password"],
body.light input[type="number"],
body.light select,
body.light textarea,
body:not(.dark) input[type="text"],
body:not(.dark) input[type="email"],
body:not(.dark) input[type="password"],
body:not(.dark) input[type="number"],
body:not(.dark) select,
body:not(.dark) textarea {
  background-color: rgb(255 255 255) !important;
  border-color: rgb(209 213 219) !important;
  color: rgb(17 24 39) !important;
}

body.light input[type="text"]:focus,
body.light input[type="email"]:focus,
body.light input[type="password"]:focus,
body.light input[type="number"]:focus,
body.light select:focus,
body.light textarea:focus,
body:not(.dark) input[type="text"]:focus,
body:not(.dark) input[type="email"]:focus,
body:not(.dark) input[type="password"]:focus,
body:not(.dark) input[type="number"]:focus,
body:not(.dark) select:focus,
body:not(.dark) textarea:focus {
  border-color: rgb(37 99 235) !important;
  --tw-ring-color: rgb(37 99 235 / 0.2) !important;
}

body.light select option,
body:not(.dark) select option {
  background-color: rgb(255 255 255) !important;
  color: rgb(17 24 39) !important;
}

/* Dark mode input fields */
body.dark input[type="text"],
body.dark input[type="email"],
body.dark input[type="password"],
body.dark input[type="number"],
body.dark select,
body.dark textarea {
  background-color: rgb(55 65 81) !important;
  border-color: rgb(75 85 99) !important;
  color: rgb(243 244 246) !important;
}

body.dark input[type="text"]:focus,
body.dark input[type="email"]:focus,
body.dark input[type="password"]:focus,
body.dark input[type="number"]:focus,
body.dark select:focus,
body.dark textarea:focus {
  border-color: rgb(96 165 250) !important;
  --tw-ring-color: rgb(96 165 250 / 0.2) !important;
}

body.dark select option {
  background-color: rgb(55 65 81) !important;
  color: rgb(243 244 246) !important;
}

  /* Checkbox and radio */
  body.dark input[type="checkbox"],
  body.dark input[type="radio"] {
    background-color: rgb(55 65 81) !important;
    border-color: rgb(75 85 99) !important;
  }

  body.dark input[type="checkbox"]:checked,
  body.dark input[type="radio"]:checked {
    background-color: rgb(96 165 250) !important;
    border-color: rgb(96 165 250) !important;
  }
}

/* Additional components that need specific overrides */
@layer components {
  /* Primary buttons - 常に白いテキスト */
  .btn-primary,
  .bg-blue-600,
  .bg-blue-700 {
    color: rgb(255 255 255) !important;
  }

  .btn-primary:hover,
  .hover\:bg-blue-700:hover {
    color: rgb(255 255 255) !important;
  }

  /* Secondary buttons */
  body.light .btn-secondary,
  body:not(.dark) .btn-secondary {
    background-color: rgb(243 244 246) !important;
    color: rgb(55 65 81) !important;
    border-color: rgb(209 213 219) !important;
  }

  body.light .btn-secondary:hover,
  body:not(.dark) .btn-secondary:hover {
    background-color: rgb(229 231 235) !important;
  }

  body.dark .btn-secondary {
    background-color: rgb(55 65 81) !important;
    color: rgb(243 244 246) !important;
    border-color: rgb(75 85 99) !important;
  }

  body.dark .btn-secondary:hover {
    background-color: rgb(75 85 99) !important;
  }

  /* Cards */
  body.light .card,
  body:not(.dark) .card {
    background-color: rgb(255 255 255) !important;
    border-color: rgb(229 231 235) !important;
  }

  body.dark .card {
    background-color: rgb(17 24 39) !important;
    border-color: rgb(75 85 99) !important;
  }

  /* Tables */
  body.light table,
  body:not(.dark) table {
    background-color: rgb(255 255 255) !important;
  }

  body.light th,
  body:not(.dark) th {
    background-color: rgb(249 250 251) !important;
    color: rgb(107 114 128) !important;
  }

  body.light td,
  body:not(.dark) td {
    color: rgb(17 24 39) !important;
    border-color: rgb(229 231 235) !important;
  }

  body.light tbody tr:hover,
  body:not(.dark) tbody tr:hover {
    background-color: rgb(249 250 251) !important;
  }

  body.dark table {
    background-color: rgb(17 24 39) !important;
  }

  body.dark th {
    background-color: rgb(31 41 55) !important;
    color: rgb(156 163 175) !important;
  }

  body.dark td {
    color: rgb(243 244 246) !important;
    border-color: rgb(75 85 99) !important;
  }

  body.dark tbody tr:hover {
    background-color: rgb(31 41 55) !important;
  }

  /* Notifications */
  .notification {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  }

  body.dark .notification {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2) !important;
  }
}

/* Base element styling with proper specificity */
body.light,
body:not(.dark) {
  background-color: rgb(249 250 251) !important;
  color: rgb(17 24 39) !important;
}

body.dark {
  background-color: rgb(31 41 55) !important;
  color: rgb(243 244 246) !important;
}

body.light h1,
body.light h2,
body.light h3,
body.light h4,
body.light h5,
body.light h6,
body:not(.dark) h1,
body:not(.dark) h2,
body:not(.dark) h3,
body:not(.dark) h4,
body:not(.dark) h5,
body:not(.dark) h6 {
  color: rgb(17 24 39) !important;
}

body.dark h1,
body.dark h2,
body.dark h3,
body.dark h4,
body.dark h5,
body.dark h6 {
  color: rgb(243 244 246) !important;
}

body.light p,
body:not(.dark) p {
  color: rgb(17 24 39) !important;
}

body.dark p {
  color: rgb(243 244 246) !important;
}

/* ボタン内のテキストは白色を維持 */
body.light .bg-blue-600,
body.light .bg-blue-700,
body.light .hover\:bg-blue-700,
body:not(.dark) .bg-blue-600,
body:not(.dark) .bg-blue-700,
body:not(.dark) .hover\:bg-blue-700 {
  color: rgb(255 255 255) !important;
}

body.dark .bg-blue-600,
body.dark .bg-blue-700,
body.dark .hover\:bg-blue-700 {
  color: rgb(255 255 255) !important;
}

/* ボタン以外のリンクの色設定 */
body.light a:not(.bg-blue-600):not(.bg-blue-700):not(.btn-primary),
body:not(.dark) a:not(.bg-blue-600):not(.bg-blue-700):not(.btn-primary) {
  color: rgb(37 99 235) !important;
}

body.light a:not(.bg-blue-600):not(.bg-blue-700):not(.btn-primary):hover,
body:not(.dark) a:not(.bg-blue-600):not(.bg-blue-700):not(.btn-primary):hover {
  color: rgb(29 78 216) !important;
}

body.dark a:not(.bg-blue-600):not(.bg-blue-700):not(.btn-primary) {
  color: rgb(96 165 250) !important;
}

body.dark a:not(.bg-blue-600):not(.bg-blue-700):not(.btn-primary):hover {
  color: rgb(59 130 246) !important;
}

/* Scrollbar for dark mode */
body.dark ::-webkit-scrollbar-track {
  background-color: rgb(55 65 81) !important;
}

body.dark ::-webkit-scrollbar-thumb {
  background-color: rgb(75 85 99) !important;
}

body.dark ::-webkit-scrollbar-thumb:hover {
  background-color: rgb(107 114 128) !important;
}

/* Transitions for smooth theme switching */
* {
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease !important;
}